(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{190:function(a,t,e){"use strict";e.r(t);var s=e(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"滚动更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#滚动更新","aria-hidden":"true"}},[a._v("#")]),a._v(" 滚动更新")]),a._v(" "),e("h2",{attrs:{id:"deployment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deployment","aria-hidden":"true"}},[a._v("#")]),a._v(" Deployment")]),a._v(" "),e("p",[a._v("更新 "),e("code",[a._v("Image")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ kubectl "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),a._v(" image deployment DEPLOYMENT_NAME CONTAINER_NAME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nginx:v3 --record\n")])])]),e("p",[a._v("执行 "),e("code",[a._v("$ kubectl edit")]),a._v(" 编辑 YAML 文件更新")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ kubectl edit deployment DEPLOYMENT_NAME\n")])])]),e("p",[a._v("查看更新历史")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ kubectl rollout "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("history")]),a._v(" deployment DEPLOYMENT_NAME\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ kubectl rollout pause "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" resume "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" status\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ kubectl rolling-update DEPLOYMENT_NAME --update-period"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("10s -f NEW_YAML_FILE\n")])])]),e("h2",{attrs:{id:"回滚-undo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#回滚-undo","aria-hidden":"true"}},[a._v("#")]),a._v(" 回滚 undo")]),a._v(" "),e("p",[a._v("回滚到指定版本")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ kubectl rollout undo deployment DEPLOYMENT_NAME --to-revision"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("7\n")])])])])}],!1,null,null,null);r.options.__file="rollout.md";t.default=r.exports}}]);