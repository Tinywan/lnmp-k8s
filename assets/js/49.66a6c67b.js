(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{215:function(_,v,a){"use strict";a.r(v);var t=a(0),i=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var _=this,v=_.$createElement,a=_._self._c||v;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"configmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configmap","aria-hidden":"true"}},[_._v("#")]),_._v(" configMap")]),_._v(" "),a("h2",{attrs:{id:"用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用途","aria-hidden":"true"}},[_._v("#")]),_._v(" 用途")]),_._v(" "),a("p",[_._v("ConfigMap 可以被用来：")]),_._v(" "),a("ol",[a("li",[a("p",[_._v("设置环境变量的值")])]),_._v(" "),a("li",[a("p",[_._v("在容器里设置命令行参数")])]),_._v(" "),a("li",[a("p",[_._v("在数据卷里面创建 config 文件")])])]),_._v(" "),a("h2",{attrs:{id:"更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[_._v("#")]),_._v(" 更新")]),_._v(" "),a("p",[_._v("更新 "),a("code",[_._v("ConfigMap")]),_._v(" 后：")]),_._v(" "),a("ul",[a("li",[_._v("使用该 "),a("code",[_._v("ConfigMap")]),_._v(" 挂载的 "),a("code",[_._v("Env")]),_._v(" "),a("strong",[_._v("不会")]),_._v(" 同步更新")]),_._v(" "),a("li",[_._v("使用该 "),a("code",[_._v("ConfigMap")]),_._v(" 挂载的 "),a("code",[_._v("Volume")]),_._v(" 中的数据需要一段时间（实测大概10秒）才能同步更新")]),_._v(" "),a("li",[_._v("如果使用子路径方式挂载的数据卷，将 "),a("strong",[_._v("不会")]),_._v(" 触发更新。")])]),_._v(" "),a("p",[_._v("为了更新容器中使用 "),a("code",[_._v("ConfigMap")]),_._v(" 挂载的配置，可以通过滚动更新 "),a("code",[_._v("pod")]),_._v(" 的方式来强制重新挂载 "),a("code",[_._v("ConfigMap")]),_._v("，也可以在更新了 "),a("code",[_._v("ConfigMap")]),_._v(" 后，先将副本数设置为 0，然后再扩容。")]),_._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[_._v("#")]),_._v(" 参考")]),_._v(" "),a("ul",[a("li",[_._v("https://www.jianshu.com/p/912800b58520")]),_._v(" "),a("li",[_._v("http://dockone.io/article/8632")]),_._v(" "),a("li",[_._v("https://www.cnblogs.com/chimeiwangliang/p/8796133.html")])])])}],!1,null,null,null);v.default=i.exports}}]);