# Kubernetes 数据问题

## 配置、密钥

这些变动不太频繁的，建议生成 `configMap` 和 `secret` 进行挂载。

## 数据库、缓存 数据

存放到 `pvc` 中，只要不删除 `pv` `pvc`, 数据就不会丢失。

## 项目数据

例如 PHP 源代码

### 开发环境

开发环境，源码变动频繁，最好是将本地目录挂载进容器中。

假设开发环境使用的是 Docker 桌面版，这两个比较特殊，实现原理实际上是运行了一个 Linux 虚拟机，所以虚拟机的路径不等于宿主机的路径，但有一个对应关系。

Windows 路径与 macOS 路径不同，所以需要手动修改以下文件

* `deployment/lnmp-nginx.yaml`

* `deployment/lnmp-php7.yaml`

以上两文件定义的服务将 PHP 源码放到了本地（`hostPath`）。

手动搜索 `hostPath`，自行选择对应的配置文件（注释有说明）

### 生产环境

**1.** 打入镜像，交付容器

**2.** 挂载数据卷 (NFS)
